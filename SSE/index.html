<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>SSE</title>
	</head>
	<body>
		<h1>Server Information</h1>
		<p>Server Time: <span id="serverTime">N/A</span></p>
		<p>Active Connections: <span id="connections">0</span></p>

		<script>
			const eventSource = new EventSource("http://localhost:3000/events");

			eventSource.onmessage = (event) => {
				const data = JSON.parse(event.data);
				document.getElementById("serverTime").textContent = data.serverTime;
				document.getElementById("connections").textContent =
					data.connectionCount;
			};
		</script>
	</body>
</html>
